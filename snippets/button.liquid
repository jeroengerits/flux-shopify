{% comment %}
  Button snippet with multiple variants and accessibility features

  Usage: {% render 'button', label: 'Click me', variant: 'primary', size: 'md', full_width: false, disabled: false %}

  Parameters:
  - label: Button text (required)
  - variant: primary, secondary, outline, ghost (default: primary)
  - size: xs, sm, md, lg, xl, 2xl (default: md)
  - full_width: Whether button should be full width (default: false)
  - disabled: Whether button is disabled (default: false)
  - type: button, submit, reset (default: button)
  - href: URL for link buttons (optional)
  - target: Target for link buttons (optional)
  - class: Additional CSS classes (optional)
  - aria_label: Custom aria-label (optional)
  - data_attributes: Additional data attributes (optional)
{% endcomment %}

{% assign variant = variant | default: 'primary' %}
{% assign size = size | default: 'md' %}
{% assign full_width = full_width | default: false %}
{% assign disabled = disabled | default: false %}
{% assign type = type | default: 'button' %}
{% assign class = class | default: '' %}
{% assign href = href | default: '' %}
{% assign target = target | default: '' %}
{% assign name = name | default: '' %}
{% assign aria_label = aria_label | default: '' %}
{% assign data_attributes = data_attributes | default: '' %}

{% case variant %}
  {% when 'primary' %}
    {% assign variant_classes = 'bg-brand-primary text-white hover:bg-brand-neutral-800 focus:ring-brand-primary' %}
  {% when 'secondary' %}
    {% assign variant_classes = 'bg-brand-neutral-100 text-brand-neutral-900 hover:bg-brand-neutral-200 focus:ring-brand-neutral-500' %}
  {% when 'outline' %}
    {% assign variant_classes = 'border border-brand-neutral-300 bg-transparent text-brand-neutral-700 hover:bg-brand-neutral-50 focus:ring-brand-neutral-500' %}
  {% when 'ghost' %}
    {% assign variant_classes = 'bg-transparent text-brand-neutral-700 hover:bg-brand-neutral-100 focus:ring-brand-neutral-500' %}
  {% else %}
    {% assign variant_classes = 'bg-brand-primary text-white hover:bg-brand-neutral-800 focus:ring-brand-primary' %}
{% endcase %}

{% case size %}
  {% when 'xs' %}
    {% assign size_classes = 'px-2 py-1 text-xs h-6' %}
    {% assign icon_size = 'h-3 w-3' %}
  {% when 'sm' %}
    {% assign size_classes = 'px-3 py-1.5 text-sm h-8' %}
    {% assign icon_size = 'h-4 w-4' %}
  {% when 'md' %}
    {% assign size_classes = 'px-4 py-2 text-sm h-9' %}
    {% assign icon_size = 'h-4 w-4' %}
  {% when 'lg' %}
    {% assign size_classes = 'px-6 py-3 text-base h-10' %}
    {% assign icon_size = 'h-5 w-5' %}
  {% when 'xl' %}
    {% assign size_classes = 'px-8 py-4 text-lg h-10' %}
    {% assign icon_size = 'h-6 w-6' %}
  {% when '2xl' %}
    {% assign size_classes = 'px-10 py-5 text-xl h-12' %}
    {% assign icon_size = 'h-7 w-7' %}
  {% else %}
    {% assign size_classes = 'px-4 py-2 text-sm h-8' %}
    {% assign icon_size = 'h-4 w-4' %}
{% endcase %}

{% assign width_class = '' %}
{% if full_width %}
  {% assign width_class = 'w-full' %}
{% endif %}

{% assign disabled_class = '' %}
{% if disabled %}
  {% assign disabled_class = 'opacity-50 cursor-not-allowed' %}
{% endif %}

{% if href != '' %}
  <a
    href='{{ href }}'
    {% if target %}
      target='{{ target }}'
      rel='noopener noreferrer'
    {% endif %}
    class='inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 {{ variant_classes }} {{ size_classes }} {{ width_class }} {{ disabled_class }} {{ class }}'
    {% if aria_label %}
      aria-label='{{ aria_label }}'
    {% endif %}
    {% if data_attributes %}
      {{ data_attributes }}
    {% endif %}
  >
{% else %}
  <button
    class='leading-0 inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 {{ variant_classes }} {{ size_classes }} {{ width_class }} {{ disabled_class }} {{ class }}'
    {% if disabled %}
      disabled
    {% endif %}
    {% if type == 'submit' %}
      type='submit'
    {% endif %}
    {% if type == 'button' %}
      type='button'
    {% endif %}
    {% if type == 'reset' %}
      type='reset'
    {% endif %}
    {% if name %}
      name='{{ name }}'
    {% endif %}
    {% if data_action %}
      data-action='{{ data_action }}'
    {% endif %}
    {% if data_item_key %}
      data-item-key='{{ data_item_key }}'
    {% endif %}
    {% if onclick %}
      onclick='{{ onclick }}'
    {% endif %}
  >
{% endif %}
{% if icon_left %}
  <svg class='mr-2 {{ icon_size }}' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ icon_left }}"></path>
  </svg>
{% endif %}

{{ label }}

{% if icon_right %}
  <svg class='ml-2 {{ icon_size }}' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ icon_right }}"></path>
  </svg>
{% endif %}
{% if href != '' %}</a>{% else %}</button>{% endif %}
