{% comment %}
  Collection page template
  Shows all products in a collection
{% endcomment %}

<div class='min-h-screen '>
  <!-- Collection Header -->
  <div class=''>
    <div class='px-6 pb-6'>
      <div class=''>
        <h1 class='text-md mb-2 font-normal text-neutral-800'>{{ collection.title }}</h1>
        {% if collection.description != blank %}
          <p class='mx-auto max-w-3xl text-sm text-neutral-600'>{{ collection.description }}</p>
        {% endif %}
        <p class='mt-2 text-xs text-neutral-500'>
          {{ collection.products.size }} product{% if collection.products.size != 1 %}s{% endif %}
        </p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class='px-6'>
    <!-- Product Grid -->
    <div class='grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'>
      {% for product in collection.products %}
        {% render 'product-card', product: product, image_width: 800, image_height: 400 %}
      {% endfor %}
    </div>

    <!-- Pagination -->
    {% if paginate.pages > 1 %}
      <div class='mt-12 flex justify-center'>
        <nav class='flex items-center space-x-2'>
          {% if paginate.previous %}
            <a
              href='{{ paginate.previous.url }}'
              class='rounded-md border border-neutral-300 px-3 py-2 text-sm text-neutral-500 transition-colors hover:bg-neutral-50 hover:text-neutral-700'
            >
              Previous
            </a>
          {% endif %}

          {% for part in paginate.parts %}
            {% if part.is_link %}
              <a
                href='{{ part.url }}'
                class='rounded-md border border-neutral-300 px-3 py-2 text-sm text-neutral-700 transition-colors hover:bg-neutral-50 hover:text-neutral-900'
              >
                {{ part.title }}
              </a>
            {% else %}
              <span class='rounded-md border border-neutral-300 bg-neutral-100 px-3 py-2 text-sm text-neutral-500'>
                {{ part.title }}
              </span>
            {% endif %}
          {% endfor %}

          {% if paginate.next %}
            <a
              href='{{ paginate.next.url }}'
              class='rounded-md border border-neutral-300 px-3 py-2 text-sm text-neutral-500 transition-colors hover:bg-neutral-50 hover:text-neutral-700'
            >
              Next
            </a>
          {% endif %}
        </nav>
      </div>
    {% endif %}
  </div>
</div>
