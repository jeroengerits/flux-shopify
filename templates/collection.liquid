{% comment %}
  Collection page template
  Shows all products in a collection
{% endcomment %}

{% section 'breadcrumb' %}

<div class='min-h-screen '>
  <!-- Collection Header -->
  <div class=''>
    <div class='px-6 pb-6'>
      <div class=''>
        <h1 class='text-md text-brand-neutral-800 mb-2 font-normal'>{{ collection.title }}</h1>
        {% if collection.description != blank %}
          <p class='text-brand-neutral-600 mx-auto max-w-3xl text-sm'>{{ collection.description }}</p>
        {% endif %}
        <p class='text-brand-neutral-500 mt-2 text-xs'>
          {{ collection.products.size }} product{% if collection.products.size != 1 %}s{% endif %}
        </p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class='px-6'>
    <!-- Product Grid -->
    <div class='grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'>
      {% for product in collection.products %}
        {% render 'product-card', product: product, image_width: 800, image_height: 400 %}
      {% endfor %}
    </div>

    <!-- Pagination -->
    {% if paginate.pages > 1 %}
      <div class='mt-12 flex justify-center'>
        <nav class='flex items-center space-x-2'>
          {% if paginate.previous %}
            {% render 'link', text: 'Previous', url: paginate.previous.url %}
          {% endif %}

          {% for part in paginate.parts %}
            {% if part.is_link %}
              {% render 'link', text: part.title, url: part.url %}
            {% else %}
              <span class='border-brand-neutral-300 bg-brand-neutral-100 text-brand-neutral-500 rounded-md border px-3 py-2 text-sm'>
                {{ part.title }}
              </span>
            {% endif %}
          {% endfor %}

          {% if paginate.next %}
            {% render 'link', text: 'Next', url: paginate.next.url %}
          {% endif %}
        </nav>
      </div>
    {% endif %}
  </div>
</div>
